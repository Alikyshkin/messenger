# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [CI/CD](#cicd)
- [–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞](#—Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã-–∫–æ–¥–∞)
- [–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [Code Review](#code-review)

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js** 20.x –∏–ª–∏ –≤—ã—à–µ
- **Flutter** 3.38.9 –∏–ª–∏ –≤—ã—à–µ
- **Git**

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–°–µ—Ä–≤–µ—Ä:**
```bash
cd server
npm install
```

**–ö–ª–∏–µ–Ω—Ç:**
```bash
cd client
flutter pub get
```

### Pre-commit hooks

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ hooks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞:

```bash
./scripts/install-hooks.sh
```

Hooks –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ (`dart format`)
- –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ (`flutter analyze`)
- –ö–æ–º–ø–∏–ª—è—Ü–∏—é –¥–ª—è Web (`flutter build web`)

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–µ—Ä–≤–µ—Ä

```bash
cd server
npm test
```

–ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è unit –∏ integration —Ç–µ—Å—Ç—ã. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤–∞—è –ë–î –≤ –ø–∞–º—è—Ç–∏ (`MESSENGER_DB_PATH=:memory:`).

**–° –ø–æ–∫—Ä—ã—Ç–∏–µ–º:**
```bash
npm run test:coverage
```

**–í —Ä–µ–∂–∏–º–µ watch:**
```bash
npm run test:watch
```

### –ö–ª–∏–µ–Ω—Ç

```bash
cd client
flutter test
```

–ó–∞–ø—É—Å–∫–∞—é—Ç—Å—è unit-—Ç–µ—Å—Ç—ã –º–æ–¥–µ–ª–µ–π –∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

**–° –ø–æ–∫—Ä—ã—Ç–∏–µ–º:**
```bash
flutter test --coverage
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

**–°–µ—Ä–≤–µ—Ä:**
- `server/tests/` - unit –∏ integration —Ç–µ—Å—Ç—ã
- `server/tests/integration/` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã API

**–ö–ª–∏–µ–Ω—Ç:**
- `client/test/` - unit-—Ç–µ—Å—Ç—ã
- `client/test/integration/` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä unit —Ç–µ—Å—Ç–∞ (—Å–µ—Ä–≤–µ—Ä):**

```javascript
import { validate, registerSchema } from '../middleware/validation.js';

describe('registerSchema', () => {
  it('–¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ', () => {
    const validData = {
      username: 'testuser',
      password: 'password123',
    };
    
    const { error } = registerSchema.validate(validData);
    expect(error).toBeUndefined();
  });
});
```

**–ü—Ä–∏–º–µ—Ä unit —Ç–µ—Å—Ç–∞ (–∫–ª–∏–µ–Ω—Ç):**

```dart
import 'package:flutter_test/flutter_test.dart';
import 'package:messenger/models/user.dart';

void main() {
  test('User.fromJson —Å–æ–∑–¥–∞—ë—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç', () {
    final json = {
      'id': 1,
      'username': 'testuser',
      'display_name': 'Test User',
    };
    
    final user = User.fromJson(json);
    expect(user.id, 1);
    expect(user.username, 'testuser');
  });
}
```

### Best Practices

1. **–ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤:** –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º
2. **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `beforeAll` –∏ `afterAll` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ—á–∏—Å—Ç–∫–∏
3. **–ú–æ–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Redis, FCM)
4. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `async/await` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
5. **–û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤

---

## CI/CD

### GitHub Actions Workflows

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

#### CI (`.github/workflows/ci.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ –≤–µ—Ç–∫–∏ `main`, `develop`, `feature/**`
- Pull requests –≤ `main` –∏ `develop`

**–ó–∞–¥–∞—á–∏:**
1. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Flutter –∫–æ–¥–∞ (`dart format`)
2. –ê–Ω–∞–ª–∏–∑ Flutter –∫–æ–¥–∞ (`flutter analyze`)
3. –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è Web (`flutter build web`)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js —Å–µ—Ä–≤–µ—Ä–∞ (`npm test`)

#### Security (`.github/workflows/security.yml`)

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (`npm audit`)
- CodeQL –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞
- Dependency Review –¥–ª—è PR

#### Code Quality (`.github/workflows/code-quality.yml`)

- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (code coverage)
- –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞ (bundle size check)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–æ–º–º–∏—Ç–æ–≤

#### Release (`.github/workflows/release.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä:** Push —Ç–µ–≥–∞ `v*` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v1.0.0`)

**–°–±–æ—Ä–∫–∏:**
- **Web** ‚Äî `messenger-web.zip` –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **Android** ‚Äî `messenger-android.apk` –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- **Linux** ‚Äî `messenger-linux.zip` (AppImage, –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
- **Windows** ‚Äî `messenger-windows.zip` (`.exe` –∏ DLL)
- **macOS** ‚Äî `messenger-macos.zip` (`.app`)

**–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–ª–∏–∑:**
1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `client/pubspec.yaml` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1.0.1+2`)
2. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ `CHANGELOG.md` –≤ —Å–µ–∫—Ü–∏—é `[1.0.1]`
3. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ —Ç–µ–≥:
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```
4. GitHub Actions —Å–æ–±–µ—Ä—ë—Ç –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ —Å–æ–∑–¥–∞—Å—Ç GitHub Release —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏
5. –°–±–æ—Ä–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ [Releases](https://github.com/Alikyshkin/messenger/releases)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** –≤ —Å–µ–∫—Ä–µ—Ç–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `DOCKER_USERNAME` –∏ `DOCKER_PASSWORD` –¥–ª—è Docker Hub.

#### Performance (`.github/workflows/performance.yml`)

- Lighthouse –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–µ–±-–≤–µ—Ä—Å–∏–∏

#### Deploy (`.github/workflows/deploy.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ –≤–µ—Ç–∫—É `main`
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `workflow_dispatch`

**–ó–∞–¥–∞—á–∏:**
1. –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
2. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Docker Hub
3. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SSH

#### Release (`.github/workflows/release.yml`)

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push —Ç–µ–≥–æ–≤ –≤–∏–¥–∞ `v*` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `v1.0.0`)

**–ó–∞–¥–∞—á–∏:**
1. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
2. –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞ —Å –≤–µ—Ä—Å–∏–µ–π –∏–∑ —Ç–µ–≥–∞
3. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Docker Hub
4. –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CI/CD

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [act](https://github.com/nektos/act) –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
brew install act  # macOS

# –ó–∞–ø—É—Å–∫ CI workflow –ª–æ–∫–∞–ª—å–Ω–æ
act -j test

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö jobs
act
```

---

## –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**Flutter/Dart:**
```bash
cd client
dart format .
```

**JavaScript:**
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç JavaScript (–±–µ–∑ Prettier).

### –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

**Flutter:**
```bash
cd client
flutter analyze
```

**Node.js:**
```bash
cd server
npm run lint  # –µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
```

### Conventional Commits

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [Conventional Commits](https://www.conventionalcommits.org/):

```
<type>(<scope>): <subject>

[optional body]

[optional footer]
```

**–¢–∏–ø—ã:**
- `feat`: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `fix`: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
- `docs`: –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `style`: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–æ–¥)
- `refactor`: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- `perf`: —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `test`: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- `chore`: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ç.–¥.

**–ü—Ä–∏–º–µ—Ä—ã:**
```
feat(chat): –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–∫—Ü–∏–π –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
fix(auth): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
docs(readme): –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
chore(deps): –æ–±–Ω–æ–≤–ª–µ–Ω flutter_webrtc –¥–æ 1.3.0
```

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

**Dart:**
- –ö–ª–∞—Å—Å—ã: `PascalCase` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `UserProfile`)
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏: `camelCase` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `getUserData`)
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: `lowerCamelCase` —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `k` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `kMaxRetries`)

**JavaScript:**
- –ö–ª–∞—Å—Å—ã: `PascalCase`
- –§—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `camelCase`
- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã: `UPPER_SNAKE_CASE`

### –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è:
- –°–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –ù–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π
- TODO –∏ FIXME
- –ü—É–±–ª–∏—á–Ω—ã—Ö API

**–ü—Ä–∏–º–µ—Ä:**
```dart
/// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π.
/// 
/// –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å, —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å outbox
/// –∏ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏.
Future<void> sendMessage(Message message) async {
  // ...
}
```

---

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [Semantic Versioning](https://semver.org/):

- **PATCH** (1.0.0 ‚Üí 1.0.1): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤, –º–µ–ª–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **MINOR** (1.0.0 ‚Üí 1.1.0): –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **MAJOR** (1.0.0 ‚Üí 2.0.0): –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API

### –ì–¥–µ –∏–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é

–í–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **–æ–¥–Ω–æ–º –º–µ—Å—Ç–µ**:

üìÅ **`client/lib/config/version.dart`**

```dart
class AppVersion {
  static const String version = '1.0.1';  // ‚Üê –ò–∑–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
  static const int buildNumber = 1;        // ‚Üê –ò –∑–¥–µ—Å—å
}
```

### –ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å

1. ‚úÖ **`client/lib/config/version.dart`** ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å `AppVersion.version` –∏ `AppVersion.buildNumber`
2. ‚úÖ **`client/pubspec.yaml`** ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É `version: X.Y.Z+N` (–¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `AppVersion`)

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞

1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `version.dart` –∏ `pubspec.yaml`
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ–≥:
   ```bash
   git tag v1.0.1
   git push origin v1.0.1
   ```
3. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Ä–µ–ª–∏–∑ –∏ —Å–æ–±–µ—Ä—ë—Ç —Å–±–æ—Ä–∫–∏

---

## Code Review

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ Pull Request —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —Ä–µ–≤—å—é:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω PR (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ CI –ø—Ä–æ—à–ª–∏
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –º–µ—Ä–¥–∂–µ–º

### Checklist –¥–ª—è PR

- [ ] –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (`dart format .`)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –∞–Ω–∞–ª–∏–∑–∞ (`flutter analyze`)
- [ ] –¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] CI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- [ ] –í–µ—Ä—Å–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Prometheus + Grafana** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- **Pino** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Docker Compose: `docker-compose -f docker-compose.monitoring.yml up`

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
- CodeQL –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ –Ω–∞ GitHub
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Rate limiting –Ω–∞ API endpoints
- Helmet.js –¥–ª—è –∑–∞—â–∏—Ç—ã HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Dependabot** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è PR —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏:
- Flutter/Dart –ø–∞–∫–µ—Ç—ã ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- Node.js –ø–∞–∫–µ—Ç—ã ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- GitHub Actions ‚Äî –µ–∂–µ–º–µ—Å—è—á–Ω–æ

–í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —Ç–µ –∂–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ CI/CD –ø–µ—Ä–µ–¥ –º–µ—Ä–¥–∂–µ–º.
